<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lane Node Fix Test</title>
    
    <!-- Standard CSS -->
    <link rel="stylesheet" href="dashboard/flowdash.css">
    
    <!-- Required Libraries -->
    <script src="dashboard/libs/d3.min.js"></script>
    <script src="dashboard/libs/d3-shape.min.js"></script>
    <script src="dashboard/libs/d3-dag.iife.min.js"></script>
</head>
<body>
    <h1>Lane Node Fix Test</h1>
    <p>Testing the lane node positioning fix</p>
    
    <div id="graph" style="width: 800px; height: 600px; border: 1px solid #ccc;"></div>

    <script type="module">
        import flowDashboard from './dashboard/js/index.js';

        // Test data with lane and rectangles
        const testData = {
            nodes: [
                {
                    id: "lane1",
                    label: "Process Lane",
                    type: "lane",
                    code: "L1",
                    status: "Ready",
                    layout: {
                        displayMode: "full",
                        arrangement: "default"
                    },
                    children: [
                        {
                            id: "rect1",
                            label: "Step 1",
                            type: "rect",
                            code: "R1",
                            status: "Ready",
                            layout: {
                                displayMode: "full",
                                arrangement: "default"
                            },
                            parentId: "lane1"
                        },
                        {
                            id: "rect2",
                            label: "Step 2",
                            type: "rect",
                            code: "R2",
                            status: "Ready",
                            layout: {
                                displayMode: "full",
                                arrangement: "default"
                            },
                            parentId: "lane1"
                        },
                        {
                            id: "rect3",
                            label: "Step 3",
                            type: "rect",
                            code: "R3",
                            status: "Ready",
                            layout: {
                                displayMode: "full",
                                arrangement: "default"
                            },
                            parentId: "lane1"
                        }
                    ],
                    parentId: null
                }
            ],
            edges: []
        };

        // Initialize dashboard
        const flowdash = new flowDashboard.Dashboard(testData);
        flowdash.initialize('#graph');
        
        // Attach to window for debugging
        window.flowdash = flowdash;
        window.testData = testData;
        
        console.log('Dashboard initialized');
        console.log('Test data:', testData);
    </script>
</body>
</html> 
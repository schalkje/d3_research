:root, [data-theme="dark"] {
  --fd-bg: #0b0e14;      /* deep neutral background */
  --fd-surface: #121821; /* low-glare surface */
  --fd-text: #e6ebf2;    /* high-contrast text */
  --fd-muted: #8b92a3;   /* subdued copy */
  --fd-accent: #6bb6ff;  /* cool accent for focus */
  --fd-border: #2a3342;  /* structural lines */
  --fd-edge: #5c6a82;    /* edges/links */
}

body { background: var(--fd-bg); color: var(--fd-text); }

/* canvases */
#graph { background-color: var(--fd-bg); border-color: var(--fd-border); }
.minimap-svg { background-color: rgba(20, 24, 33, 0.7); border-color: var(--fd-border); }
/* Ensure uncovered minimap background matches graph surface */
.minimap-svg rect.background { fill: var(--fd-bg) !important; stroke: var(--fd-border) !important; }
svg.canvas { border-color: var(--fd-border); box-shadow: 0 2px 12px rgba(0,0,0,0.5); }

.shape { fill: var(--fd-surface); stroke: var(--fd-border); stroke-width: 1.25px; }
text, .label, .rect.label { fill: var(--fd-text); }
.edge .path { stroke: var(--fd-edge); }

/* dashboard containers */
.container-shape, .adapter.shape, .rect.shape, .SSIS.shape { fill: var(--fd-surface); stroke: var(--fd-border); }
.header-background { fill: #12151c; stroke: var(--fd-border); }
.header-text { fill: var(--fd-text); }
.zoom-button:hover circle { fill: #1f2632; stroke: #394252; }
.zoom-icon { fill: var(--fd-text); }

.minimap-svg .eye { fill: var(--fd-bg) !important; fill-opacity: 0.60; filter: blur(8px); -webkit-filter: blur(8px); }
.minimap-svg .iris { fill: none !important; stroke: rgba(107, 182, 255, 0.35) !important; stroke-width: 6px !important; }

/* Minimap size button */
.minimap-size-button .btn-bg { fill: #1a2230 !important; stroke: var(--fd-border) !important; }
.minimap-size-button .btn-label { fill: var(--fd-text) !important; }


/* status styles: restrained fills, luminous strokes for clarity on dark */
@keyframes dark-dash {
  to { stroke-dashoffset: -80; }
}

/* Unknown — stronger violet to stand out on dark */
.shape[status="Unknown"], .Node.shape[status="Unknown"], .container-shape[status="Unknown"], .rect.shape[status="Unknown"] {
  fill: #bda7ff;   /* vivid lavender */
  stroke: #d9ccff; /* lighter outline */
}

/* Ready — bright cyan/blue */
.shape[status="Ready"], .Node.shape[status="Ready"], .container-shape[status="Ready"], .rect.shape[status="Ready"] {
  fill: #4db4ff;   /* vivid */
  stroke: #1a8cff; /* stronger edge */
}

/* Updating — vivid green with animated stroke */
.shape[status="Updating"], .Node.shape[status="Updating"], .container-shape[status="Updating"], .rect.shape[status="Updating"] {
  fill: #39d98a;
  stroke: #00c853;
  stroke-width: 2.5px;
  stroke-dasharray: 12 8;
  animation: dark-dash 1s linear infinite;
}

/* Updated — bright success green */
.shape[status="Updated"], .Node.shape[status="Updated"], .container-shape[status="Updated"], .rect.shape[status="Updated"] {
  fill: #18c418;
  stroke: #22e28a;
}

/* Skipped — saturated yellow */
.shape[status="Skipped"], .Node.shape[status="Skipped"], .container-shape[status="Skipped"], .rect.shape[status="Skipped"] {
  fill: #fff176;
  stroke: #d4b100;
}

/* Delayed — vivid orange */
.shape[status="Delayed"], .Node.shape[status="Delayed"], .container-shape[status="Delayed"], .rect.shape[status="Delayed"] {
  fill: #ff9c3a;
  stroke: #ff7f11;
}

/* Warning — strong red-orange */
.shape[status="Warning"], .Node.shape[status="Warning"], .container-shape[status="Warning"], .rect.shape[status="Warning"] {
  fill: #ff6b4d;
  stroke: #ffb454;
}

/* Error — vivid danger red */
.shape[status="Error"], .Node.shape[status="Error"], .container-shape[status="Error"], .rect.shape[status="Error"] {
  fill: #ff3b4e;
  stroke: #ff5c70;
  stroke-width: 2.5px;
  filter: drop-shadow(0 0 8px rgba(255,92,112,0.25));
}

/* selection emphasis */
.selected .shape { stroke: var(--fd-accent); stroke-width: 2.5px; }


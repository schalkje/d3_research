<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Group Node Demo</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <style>
        svg.canvas {
            border: 1px solid #000;
            background-color: #f0f0f0;
        }
        /* CSS for the demo */
        /* .node text {
            user-select: none;
        }
        .collapsed {
            opacity: 0.7;
        }
        .expanded {
            font-weight: bold;
        }
        .group-node {
            fill: #f0f0f0;
        }
        .dynamic {
            stroke: #00f;
        }
        .fixed {
            stroke: #0f0;
        }
        .pinned {
            stroke: #f00;
        } */
    </style>
</head>
<body>
    <h1>Grouping</h1>

    <h2>Group</h2>
    <p>Dynamic organisaing group</p>
    <p>This demo showcases the nested node components implemented using D3.js. Click on a node to expand or collapse it.</p>

    <script type="module">
        // import { NodeComponent } from './js/NodeComponent.js';
        // import './js/index.js';
        import ParentNode from './js/nodeParent.js';
        import {testDataModel} from './js/graphData.js';

        const svgWidth = 800;
        const svgHeight = 600;
        const svg = d3.select('body').append('svg')
            .attr('width', svgWidth)
            .attr('height', svgHeight)
            .attr("class", "canvas");

        // // Instantiate and render the root node
        // const rootNode = new NodeComponent(testDataModel[0], testDataModelMetadata, svg);
        // rootNode.render();
        // Render the root node, which recursively renders all children
        // const rootNode = new Node.ParentNode(testDataModel[0], testDataModelMetadata, svg);
        const rootNode = new ParentNode(testDataModel[0], svg);
        rootNode.render();

        // Center coordinates for the root node
        const centerX = svgWidth / 2;
        const centerY = svgHeight / 2;
        // Set initial position of the root node to the center of the canvas
        d3.select(`[data-id='root']`).attr('transform', `translate(${centerX}, ${centerY})`);
    </script>
</body>
</html>